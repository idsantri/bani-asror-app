"use strict";(globalThis["webpackChunkbani_asror_app"]=globalThis["webpackChunkbani_asror_app"]||[]).push([[910],{910:(e,a,t)=>{t.r(a),t.d(a,{default:()=>j});var l=t(1347),n=t(7763),s=t(4187),u=t(8633),o=t(1659),r=t(5469),i=t(7534),d=t(3803);const c={__name:"ProfileUser",emits:["username"],async setup(e,{emit:a}){let t,c;const b=a,m=(0,s.Kh)({});try{const e=([t,c]=(0,l.E)((()=>o.r.get("user"))),t=await t,c(),t);Object.assign(m,e.data.data.user),b("username",e.data.data.user.username)}catch(f){console.log("Not Found: users -> profile",f.response)}const{phone:p,username:g}=(0,s.QW)(m);(0,l.wB)(p,(async(e,a)=>{if(e!=a)try{const a=await o.r.put("user",{phone:e});(0,r.VX)(a.data.message)}catch(f){const a=(0,d.$)(f.response.data.message),t=a.some((e=>e.toLowerCase().includes("expired")));t?notifyWarningExpired():404==f.response.status?console.log(f.response):a.forEach((e=>(0,r.UG)(e))),(0,i.l6)()}})),(0,l.wB)(g,(async(e,a)=>{if(e!=a)try{const a=await o.r.put("user",{username:e});(0,r.VX)(a.data.message)}catch(f){const a=(0,d.$)(f.response.data.message),t=a.some((e=>e.toLowerCase().includes("expired")));t?notifyWarningExpired():404==f.response.status?console.log(f.response):a.forEach((e=>(0,r.UG)(e))),(0,i.l6)()}}));const k=async()=>{await(0,r.Wv)("Untuk mengganti password, silakan logout (keluar) terlebih dahulu. Lalu, pada halaman login, klik lupa password.<br/>Ikuti petunjuk yang diberikan.",0)};return(e,a)=>{const t=(0,l.g2)("q-item-label"),s=(0,l.g2)("q-item-section"),o=(0,l.g2)("q-item"),r=(0,l.g2)("q-input"),i=(0,l.g2)("q-popup-edit"),d=(0,l.g2)("q-icon"),c=(0,l.g2)("q-btn"),b=(0,l.g2)("q-list"),p=(0,l.g2)("q-card-section"),g=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(g,{class:"text-green-10 bg-green-2"},{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(b,{separator:""},{default:(0,l.k6)((()=>[(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.bF)(t,{class:"text-green-10",caption:""},{default:(0,l.k6)((()=>[(0,l.eW)("Email:")])),_:1}),(0,l.bF)(t,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(m.email),1)])),_:1})])),_:1})])),_:1}),(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.bF)(t,{class:"text-green-10",caption:""},{default:(0,l.k6)((()=>[(0,l.eW)("Username:")])),_:1}),(0,l.bF)(t,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(m.username),1)])),_:1})])),_:1}),(0,l.bF)(s,{side:""},{default:(0,l.k6)((()=>[(0,l.bF)(d,{name:"edit",color:"green-10",flat:"",class:"q-pr-none"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{modelValue:m.username,"onUpdate:modelValue":a[0]||(a[0]=e=>m.username=e),buttons:""},{default:(0,l.k6)((e=>[(0,l.bF)(r,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,dense:"",autofocus:"",onKeyup:(0,u.jR)(e.set,["enter"]),hint:"Anda bisa login email atau username "},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.bF)(t,{class:"text-green-10",caption:""},{default:(0,l.k6)((()=>[(0,l.eW)("Password:")])),_:1}),(0,l.bF)(t,null,{default:(0,l.k6)((()=>[(0,l.eW)("***")])),_:1})])),_:1}),(0,l.bF)(s,{side:""},{default:(0,l.k6)((()=>[(0,l.bF)(c,{icon:"edit",color:"green-10",flat:"",class:"q-pr-none",onClick:k})])),_:1})])),_:1}),(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.bF)(t,{class:"text-green-10",caption:""},{default:(0,l.k6)((()=>[(0,l.eW)(" Telepon/WA: ")])),_:1}),(0,l.bF)(t,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(m.phone?m.phone:"-"),1)])),_:1})])),_:1}),(0,l.bF)(s,{side:""},{default:(0,l.k6)((()=>[(0,l.bF)(d,{name:"edit",color:"green-10",flat:"",class:"q-pr-none"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{modelValue:m.phone,"onUpdate:modelValue":a[1]||(a[1]=e=>m.phone=e)},{default:(0,l.k6)((e=>[(0,l.bF)(r,{type:"number",modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,hint:"Nomor telepon: 081234567890",dense:"",autofocus:"",onKeyup:(0,u.jR)(e.set,["enter"])},{after:(0,l.k6)((()=>[(0,l.bF)(c,{flat:"",dense:"",color:"negative",icon:"cancel",onClick:(0,u.D$)(e.cancel,["stop","prevent"])},null,8,["onClick"]),(0,l.bF)(c,{flat:"",dense:"",color:"positive",icon:"check_circle",onClick:(0,u.D$)(e.set,["stop","prevent"])},null,8,["onClick"])])),_:2},1032,["modelValue","onUpdate:modelValue","onKeyup"])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}};var b=t(3341),m=t(222),p=t(3766),g=t(2589),k=t(4958),f=t(9039),_=t(3933),F=t(8186),v=t(6067),h=t(2677),A=t(272),y=t.n(A);const q=c,Q=q;y()(c,"components",{QCard:b.A,QCardSection:m.A,QList:p.A,QItem:g.A,QItemSection:k.A,QItemLabel:f.A,QIcon:_.A,QPopupEdit:F.A,QInput:v.A,QBtn:h.A});var W=t(9992),x=t(4257);const V=(0,l.Lk)("h4",{class:"text-h6 no-margin q-pt-sm"}," Mari Perkenalkan diri Anda! ",-1),C={__name:"ProfileMember",emits:["memberName"],async setup(e,{emit:a}){let t,i;const c=(0,x.A)().getUser.member_id,b=(0,x.A)().getUser.id,m=(0,s.Kh)({}),p=(0,s.KR)(""),g=a,k=`Saya Fulan bin/binti Fulan ... bin ${W.A.ANCESTOR}, atau &#10;Saya Fulan bin/binti Fulan,  istri/suami dari Fulan bin/binti Fulan ... bin ${W.A.ANCESTOR}`,f=`Tulis Jalur Anda ke ${W.A.ANCESTOR}! *`;try{if(c){const e=([t,i]=(0,l.E)((()=>o.r.get(`members/${c}`))),t=await t,i(),t);Object.assign(m,e.data.data.member),g("memberName",e.data.data.member.nama)}}catch(F){console.log("Not Found: users -> profile",F.response)}const _=async()=>{try{const e=await o.r.post("reports",{user_id:b,category:"introduction",message:p.value});(0,r.VX)(e.data.message),document.getElementById("btn-submit").setAttribute("disabled","")}catch(F){(0,d.$)(F.response.data.message).forEach((e=>{(0,r.UG)(e)}))}};return(e,a)=>{const t=(0,l.g2)("q-item-label"),o=(0,l.g2)("q-item-section"),r=(0,l.g2)("q-item"),i=(0,l.g2)("q-list"),d=(0,l.g2)("q-card-section"),c=(0,l.g2)("q-card"),g=(0,l.g2)("q-input"),F=(0,l.g2)("q-btn"),v=(0,l.g2)("q-card-actions"),h=(0,l.g2)("q-form"),A=(0,l.gN)("ripple");return m.id?((0,l.uX)(),(0,l.Wv)(c,{key:0,class:"bg-green-3 text-green-10"},{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(i,{separator:""},{default:(0,l.k6)((()=>[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(r,{clickable:"",to:m.id?"/members/"+m.id:null},{default:(0,l.k6)((()=>[(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.bF)(t,{class:"text-green-10",caption:""},{default:(0,l.k6)((()=>[(0,l.eW)("Nama:")])),_:1}),(0,l.bF)(t,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(m.nama),1)])),_:1})])),_:1})])),_:1},8,["to"])),[[A]]),(0,l.bF)(r,null,{default:(0,l.k6)((()=>[(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.bF)(t,{class:"text-green-10",caption:""},{default:(0,l.k6)((()=>[(0,l.eW)("Orang Tua:")])),_:1}),(0,l.bF)(t,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(m.ayah?m.ayah:"?")+" â€” "+(0,n.v_)(m.ibu?m.ibu:"?"),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):((0,l.uX)(),(0,l.Wv)(c,{key:1,class:"bg-green-3 text-green-10"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{onSubmit:(0,u.D$)(_,["prevent"])},{default:(0,l.k6)((()=>[(0,l.bF)(d,{class:"q-px-md"},{default:(0,l.k6)((()=>[V,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>(0,s.i9)(b)?b.value=e:null),type:"hidden"},null,512),[[u.Jo,(0,s.R1)(b)]]),(0,l.bF)(g,{modelValue:p.value,"onUpdate:modelValue":a[1]||(a[1]=e=>p.value=e),outlined:"",class:"q-mt-md",type:"textarea",label:f,autogrow:"","lazy-rules":"",rules:[e=>e&&e.length>=20||"Setidaknya 20 karakter!"],placeholder:k},null,8,["modelValue","rules"])])),_:1}),(0,l.bF)(v,{class:"q-px-md",align:"right"},{default:(0,l.k6)((()=>[(0,l.bF)(F,{type:"submit",color:"green-8",label:"Kirim",id:"btn-submit"})])),_:1})])),_:1})])),_:1}))}}};var w=t(3417),S=t(5034),U=t(4028);const E=C,I=E;y()(C,"components",{QCard:b.A,QCardSection:m.A,QList:p.A,QItem:g.A,QItemSection:k.A,QItemLabel:f.A,QForm:w.A,QInput:v.A,QCardActions:S.A,QBtn:h.A}),y()(C,"directives",{Ripple:U.A});const L=e=>((0,l.Qi)("data-v-31b9a27d"),e=e(),(0,l.jt)(),e),T=L((()=>(0,l.Lk)("div",{class:"text-h6"},"Selamat Datang",-1))),N={class:"text-subtitle1"},K={class:"spinner"},R={class:"spinner"},X={__name:"ProfileIndex",emits:["pageTitle","pageSubTitle","showButtonSearch"],setup(e,{emit:a}){const t=a;t("pageTitle","Profil Pengguna"),t("pageSubTitle",null),t("showButtonSearch",!0);const u=(0,s.KR)("?"),o=(0,s.KR)("?"),r=e=>u.value=e,i=e=>o.value=e;return(e,a)=>{const t=(0,l.g2)("q-card-section"),s=(0,l.g2)("q-spinner-cube"),d=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(d,{class:"text-green-1"},{default:(0,l.k6)((()=>[(0,l.bF)(t,{class:"bg-green-8"},{default:(0,l.k6)((()=>[T,(0,l.Lk)("div",N,(0,n.v_)(u.value)+" | "+(0,n.v_)(o.value),1)])),_:1}),(0,l.bF)(t,{class:"bg-green-7"},{default:(0,l.k6)((()=>[((0,l.uX)(),(0,l.Wv)(l.tY,null,{default:(0,l.k6)((()=>[(0,l.bF)(Q,{onUsername:r})])),fallback:(0,l.k6)((()=>[(0,l.Lk)("div",K,[(0,l.bF)(s,{color:"green-2",size:"8em"})])])),_:1}))])),_:1}),(0,l.bF)(t,{class:"bg-green-6"},{default:(0,l.k6)((()=>[((0,l.uX)(),(0,l.Wv)(l.tY,null,{default:(0,l.k6)((()=>[(0,l.bF)(I,{onMemberName:i})])),fallback:(0,l.k6)((()=>[(0,l.Lk)("div",R,[(0,l.bF)(s,{color:"green-2",size:"8em"})])])),_:1}))])),_:1})])),_:1})}}};var $=t(2968),P=t(1402);const B=(0,$.A)(X,[["__scopeId","data-v-31b9a27d"]]),j=B;y()(X,"components",{QCard:b.A,QCardSection:m.A,QSpinnerCube:P.A})}}]);