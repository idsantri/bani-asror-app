"use strict";(globalThis["webpackChunkbani_asror_app"]=globalThis["webpackChunkbani_asror_app"]||[]).push([[717],{1131:(e,a,l)=>{l.d(a,{A:()=>d});var o=l(9100),r=l(6159),s=l(5469);const t=r.A.BASE_API,n=o.A.create({baseURL:t});n.defaults.withCredentials=!0;const u=n;u.interceptors.response.use((e=>e),(e=>{if(e.response)return Promise.reject(e);(0,s.UG)("Tidak dapat terhubung ke server")}));const d=u},3717:(e,a,l)=>{l.r(a),l.d(a,{default:()=>q});var o=l(1347),r=l(8633),s=l(1131),t=l(455),n=l(4187),u=l(3803),d=l(5469);const i={class:"q-pa-xs"},c={class:"q-gutter-y-md column"},p={__name:"ResetPage",emits:["title","errors"],setup(e,{emit:a}){const l=a;l("title","Reset Password"),l("errors",[]);const p=(0,t.rd)(),m=(0,t.lq)(),b=(0,n.KR)(!1),g=(0,n.KR)(m?.query?.token||""),k=(0,n.KR)(""),v=(0,n.KR)(""),w=(0,n.KR)(""),h=async()=>{l("errors",[]);try{b.value=!0;const e=await s.A.post("reset-password",{token:g.value,email:k.value,password:v.value,password_confirm:w.value}),a=(0,d.Wv)(e.data.message,0);await a,p.push({name:"Login"})}catch(e){l("errors",(0,u.$)(e.response?.data?.message))}finally{b.value=!1}};return(e,a)=>{const l=(0,o.g2)("q-input"),s=(0,o.g2)("q-btn"),t=(0,o.g2)("q-card-section"),n=(0,o.g2)("q-card"),u=(0,o.g2)("q-spinner-cube");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",i,[(0,o.Lk)("form",{onSubmit:(0,r.D$)(h,["prevent"])},[(0,o.Lk)("div",c,[(0,o.bF)(l,{"bg-color":"green-1",outlined:"",modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=e=>g.value=e),required:"",label:"Token",placeholder:"Masukkan token!",hint:"Token yang Anda dapatkan dari email"},null,8,["modelValue"]),(0,o.bF)(l,{"bg-color":"green-1",outlined:"",modelValue:k.value,"onUpdate:modelValue":a[1]||(a[1]=e=>k.value=e),type:"email",required:"",label:"Email",placeholder:"Masukkan email!"},null,8,["modelValue"]),(0,o.bF)(l,{"bg-color":"green-1",outlined:"",modelValue:v.value,"onUpdate:modelValue":a[2]||(a[2]=e=>v.value=e),type:"password",required:"",label:"Password",placeholder:"Masukkan password!",autocomplete:"off"},null,8,["modelValue"]),(0,o.bF)(l,{"bg-color":"green-1",outlined:"",modelValue:w.value,"onUpdate:modelValue":a[3]||(a[3]=e=>w.value=e),type:"password",required:"",label:"Konfirmasi Password",placeholder:"Ulangi password!",autocomplete:"off"},null,8,["modelValue"]),(0,o.bF)(s,{type:"submit",class:"full-width q-pa-sm text-green-10",color:"green-3",label:"Ganti Password"}),(0,o.bF)(n,{class:"my-card",flat:""},{default:(0,o.k6)((()=>[(0,o.bF)(t,{class:"text-green-10 text-center bg-green-2 q-pa-sm"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{outline:"",color:"green-10",class:"full-width text-weight-regular","no-caps":"",to:"/login",label:"Kembali ke halaman Login"})])),_:1})])),_:1})])],32)]),(0,o.bo)((0,o.bF)(u,{color:"green-12",size:"14em",class:"absolute-center"},null,512),[[r.aG,b.value]])],64)}}};var m=l(6067),b=l(2677),g=l(3341),k=l(222),v=l(1402),w=l(272),h=l.n(w);const f=p,q=f;h()(p,"components",{QInput:m.A,QBtn:b.A,QCard:g.A,QCardSection:k.A,QSpinnerCube:v.A})}}]);